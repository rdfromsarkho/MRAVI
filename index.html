<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SarkhoBook</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; padding: 0; }
    header { background: #4267B2; color: white; padding: 1rem; text-align: center; }
    main { padding: 1rem; max-width: 600px; margin: auto; }
    .post { background: white; padding: 1rem; margin-bottom: 1rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .post-time { color: gray; font-size: 0.8rem; }
    textarea { width: 100%; height: 80px; margin-bottom: 0.5rem; }
    button { padding: 0.5rem 1rem; background: #4267B2; color: white; border: none; border-radius: 5px; cursor: pointer; }
  </style>
</head>
<body>
  <header>
    <h1>SarkhoBook</h1>
    <p>Connect without limits</p>
  </header>
  <main>
    <h2>Create Post</h2>
    <textarea id="postContent" placeholder="What's on your mind?"></textarea>
    <br>
    <button onclick="addPost()">Post</button>

    <h2>Feed</h2>
    <div id="feed"></div>
  </main>

  <!-- Firebase Scripts -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script>
    // ✅ Replace this with your Firebase project config:
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    // ✅ Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // ✅ Add a new post
    function addPost() {
      const content = document.getElementById("postContent").value.trim();
      if (content) {
        const post = {
          text: content,
          time: new Date().toLocaleString()
        };
        db.ref("posts").push(post);
        document.getElementById("postContent").value = "";
      }
    }

    // ✅ Load all posts
    function loadPosts() {
      db.ref("posts").on("value", (snapshot) => {
        const feed = document.getElementById("feed");
        feed.innerHTML = "";
        const data = snapshot.val();
        if (data) {
          Object.values(data).reverse().forEach(post => {
            const div = document.createElement("div");
            div.className = "post";
            div.innerHTML = `<p>${post.text}</p><div class='post-time'>${post.time}</div>`;
            feed.appendChild(div);
          });
        }
      });
    }

    loadPosts();
  </script>
</body>
</html>
